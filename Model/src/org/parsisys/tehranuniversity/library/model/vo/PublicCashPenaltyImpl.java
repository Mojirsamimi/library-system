package org.parsisys.tehranuniversity.library.model.vo;

import java.sql.CallableStatement;
import java.sql.SQLException;

import oracle.jbo.JboException;
import oracle.jbo.Row;
import oracle.jbo.server.DBTransaction;
import oracle.jbo.server.ViewObjectImpl;

import org.parsisys.tehranuniversity.library.util.ParsiUtil;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Mon Mar 05 10:44:40 GMT+04:00 2012
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class PublicCashPenaltyImpl extends ViewObjectImpl {
    /**
     * This is the default constructor (do not remove).
     */
    public PublicCashPenaltyImpl() {
    }

    public void insert_publicPenalty(Integer value, String description) {
        //ADF insert..
        //create row...insert row... and fill the row...
        //      INSERT INTO public_cash_penalty(ART_ID,VALUE,DAY_DATE,DESCRIPTION,MEM_ART_ID,USER_NAME)
        //        VALUES(art_id_tmp,:PENALTY_EDIT.VALUE,:INFO.DAY_DATE,:PENALTY_EDIT.desc,:INIT_MEMBER.ART_ID,:INFO.USER_NAME);
        //        UPDATE init_member SET debit_sum=NVL(debit_sum,0) + :penalty_edit.VALUE
        
      Row newRec = createRow();
        insertRow(newRec);
         newRec.setAttribute("DayDate", ParsiUtil.DateToNumber());
      newRec.setAttribute("Description",description);
      newRec.setAttribute("Labcol",Integer.parseInt(getDBTransaction().getSession().getUserData().get("labcol").toString()) );
      newRec.setAttribute("MemArtId","");
      newRec.setAttribute("UserName",(String)getDBTransaction().getSession().getUserData().get("username"));
         
      newRec.setAttribute("Value",value);
         

    }
}
