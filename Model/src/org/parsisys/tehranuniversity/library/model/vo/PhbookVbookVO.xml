<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="PhbookVbookVO"
  Version="11.1.1.56.60"
  BindingStyle="OracleName"
  CustomQuery="true"
  RowClass="fadak.base.TemplateViewRow"
  ComponentClass="fadak.base.TemplateViewObject"
  PageIterMode="Full"
  UseGlueCode="false">
  <DesignTime>
    <Attr Name="_codeGenFlag2" Value="Access|VarAccess"/>
    <Attr Name="_isExpertMode" Value="true"/>
  </DesignTime>
  <Variable
    Name="barcode"
    Kind="viewcriteria"
    Type="java.lang.String"/>
  <Variable
    Name="title"
    Kind="viewcriteria"
    Type="java.lang.String"/>
  <Variable
    Name="origTitle"
    Kind="viewcriteria"
    Type="java.lang.String"/>
  <Variable
    Name="edition"
    Kind="viewcriteria"
    Type="java.lang.String"/>
  <Variable
    Name="volNo"
    Kind="viewcriteria"
    Type="java.lang.String"/>
  <Variable
    Name="barcodeParam"
    Kind="viewcriteria"
    Type="java.lang.String"/>
  <Variable
    Name="regId"
    Kind="viewcriteria"
    Type="java.lang.String"/>
  <Variable
    Name="labcolParam"
    Kind="viewcriteria"
    Type="oracle.jbo.domain.Number">
    <TransientExpression><![CDATA[adf.userSession.userData.labcol]]></TransientExpression>
  </Variable>
  <SQLQuery>
    <![CDATA[SELECT VirtualBook.ABSTRACT AS ABSTRACT11, 
       VirtualBook.ACTIVE_CHANGE_DATE, 
       VirtualBook.ACTIVE_CHANGE_USER, 
       VirtualBook.ACTIVE_STATUS, 
       VirtualBook.ART_ID, 
       VirtualBook.BIBLIO_NOTE, 
       VirtualBook.CALL_NO, 
       VirtualBook.CALL_NO_TYPE, 
       VirtualBook.CATALOG_SOURCE, 
       VirtualBook.CONTENTS, 
       VirtualBook.CUTTER, 
       VirtualBook.EDITION, 
       VirtualBook.GEO_AREA_CODE, 
       VirtualBook.INDEX_NOTE, 
       VirtualBook.INSERT_DATE, 
       VirtualBook.ISO_LOG, 
       VirtualBook.LABCOL, 
       VirtualBook.MANUFACTURER, 
       VirtualBook.MODIFIED_DATE, 
       VirtualBook.NBIB_NO, 
       VirtualBook.ORIG_TITLE, 
       VirtualBook.PHYSICAL_DESC, 
       VirtualBook.PUB_DATE, 
       VirtualBook.READING_ORDER, 
       VirtualBook.REFERENCE, 
       VirtualBook.REP_AUTHOR, 
       VirtualBook.TITLE, 
       VirtualBook.TITLE_PRINTABLE, 
       VirtualBook.UNIFORM_TITLE, 
       VirtualBook.UNIFORM_TITLE_PRINTABLE, 
       VirtualBook.USER_NAME, 
       VirtualBook.VOLUME_COUNT, 
       PhysicalBook.ART_ID AS ART_ID1, 
       PhysicalBook.BARCODE, 
       PhysicalBook.BARCODE_CHANGE_DATE, 
       PhysicalBook.BARCODE_CHANGE_USER, 
       PhysicalBook.DESCRIPTION, 
       PhysicalBook.DURATION_UNIT, 
       PhysicalBook.EXISTENCE_STATUS, 
       PhysicalBook.HOLD, 
       PhysicalBook.INSERT_DATE AS INSERT_DATE1, 
       PhysicalBook.LABCOL AS LABCOL1, 
       PhysicalBook.LOAN_DURATION, 
       PhysicalBook.LOAN_STATUS, 
       PhysicalBook.PART_NO, 
       PhysicalBook.PLACE, 
       PhysicalBook.PUB_DATE AS PUB_DATE1, 
       PhysicalBook.REG_ID, 
       PhysicalBook.REPLICATE_NO, 
       PhysicalBook.SAFETY_STATUS, 
       PhysicalBook.STATUS_CHANGE_DATE, 
       PhysicalBook.STATUS_CHANGE_USER, 
       PhysicalBook.USER_NAME AS USER_NAME1, 
       PhysicalBook.VBOOK_ART_ID, 
       PhysicalBook.VOL_NO,
 (SELECT PROVIDER
FROM PROVIDER, VBOOK_PROVIDER
WHERE VBOOK_PROVIDER.ART_ID=(SELECT MIN(ART_ID)
FROM VBOOK_PROVIDER
WHERE VBOOK_PROVIDER.VBOOK_ART_ID=VirtualBook.ART_ID
and vbook_provider.labcol=VirtualBook.labcol
AND ENTRY_KIND =1
)
AND PROVIDER.ART_ID        =VBOOK_PROVIDER.PRV_ART_ID
and PROVider.labcol=VirtualBook.labcol
and VBOOK_PROVIDER.VBOOK_ART_ID=VirtualBook.ART_ID
) as provider
FROM VIRTUAL_BOOK VirtualBook, PHYSICAL_BOOK PhysicalBook
WHERE (VirtualBook.ART_ID = PhysicalBook.VBOOK_ART_ID(+)) AND (VirtualBook.LABCOL = PhysicalBook.LABCOL(+))]]>
  </SQLQuery>
  <EntityUsage
    Name="VirtualBook"
    Entity="org.parsisys.tehranuniversity.library.model.eo.VirtualBook"/>
  <EntityUsage
    Name="PhysicalBook"
    Entity="org.parsisys.tehranuniversity.library.model.eo.PhysicalBook"
    Association="org.parsisys.tehranuniversity.library.model.eo.Assoc.VbookPhysBookFkAssoc"
    AssociationEnd="org.parsisys.tehranuniversity.library.model.eo.Assoc.VbookPhysBookFkAssoc.PhysicalBook"
    SourceUsage="org.parsisys.tehranuniversity.library.model.vo.PhbookVbookVO.VirtualBook"
    ReadOnly="true"
    Reference="true"
    DeleteParticipant="false"
    JoinType="LEFT OUTER JOIN">
    <DesignTime>
      <AttrArray Name="_srcAttributes">
        <Item
          Value="org.parsisys.tehranuniversity.library.model.eo.VirtualBook.ArtId"/>
        <Item
          Value="org.parsisys.tehranuniversity.library.model.eo.VirtualBook.Labcol"/>
      </AttrArray>
      <AttrArray Name="_dstAttributes">
        <Item
          Value="org.parsisys.tehranuniversity.library.model.eo.PhysicalBook.VbookArtId"/>
        <Item
          Value="org.parsisys.tehranuniversity.library.model.eo.PhysicalBook.Labcol"/>
      </AttrArray>
    </DesignTime>
  </EntityUsage>
  <ViewAttribute
    Name="Abstract11"
    PrecisionRule="true"
    EntityAttrName="Abstract1"
    EntityUsage="VirtualBook"
    AliasName="ABSTRACT11"/>
  <ViewAttribute
    Name="ActiveChangeDate"
    PrecisionRule="true"
    EntityAttrName="ActiveChangeDate"
    EntityUsage="VirtualBook"
    AliasName="ACTIVE_CHANGE_DATE"/>
  <ViewAttribute
    Name="ActiveChangeUser"
    PrecisionRule="true"
    EntityAttrName="ActiveChangeUser"
    EntityUsage="VirtualBook"
    AliasName="ACTIVE_CHANGE_USER"/>
  <ViewAttribute
    Name="ActiveStatus"
    PrecisionRule="true"
    EntityAttrName="ActiveStatus"
    EntityUsage="VirtualBook"
    AliasName="ACTIVE_STATUS"/>
  <ViewAttribute
    Name="ArtId"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="ArtId"
    EntityUsage="VirtualBook"
    AliasName="ART_ID"/>
  <ViewAttribute
    Name="BiblioNote"
    PrecisionRule="true"
    EntityAttrName="BiblioNote"
    EntityUsage="VirtualBook"
    AliasName="BIBLIO_NOTE"/>
  <ViewAttribute
    Name="CallNo"
    PrecisionRule="true"
    EntityAttrName="CallNo"
    EntityUsage="VirtualBook"
    AliasName="CALL_NO"/>
  <ViewAttribute
    Name="CallNoType"
    PrecisionRule="true"
    EntityAttrName="CallNoType"
    EntityUsage="VirtualBook"
    AliasName="CALL_NO_TYPE"/>
  <ViewAttribute
    Name="CatalogSource"
    PrecisionRule="true"
    EntityAttrName="CatalogSource"
    EntityUsage="VirtualBook"
    AliasName="CATALOG_SOURCE"/>
  <ViewAttribute
    Name="Contents"
    PrecisionRule="true"
    EntityAttrName="Contents"
    EntityUsage="VirtualBook"
    AliasName="CONTENTS"/>
  <ViewAttribute
    Name="Cutter"
    PrecisionRule="true"
    EntityAttrName="Cutter"
    EntityUsage="VirtualBook"
    AliasName="CUTTER"/>
  <ViewAttribute
    Name="Edition"
    PrecisionRule="true"
    EntityAttrName="Edition"
    EntityUsage="VirtualBook"
    AliasName="EDITION"/>
  <ViewAttribute
    Name="GeoAreaCode"
    PrecisionRule="true"
    EntityAttrName="GeoAreaCode"
    EntityUsage="VirtualBook"
    AliasName="GEO_AREA_CODE"/>
  <ViewAttribute
    Name="IndexNote"
    PrecisionRule="true"
    EntityAttrName="IndexNote"
    EntityUsage="VirtualBook"
    AliasName="INDEX_NOTE"/>
  <ViewAttribute
    Name="InsertDate"
    PrecisionRule="true"
    EntityAttrName="InsertDate"
    EntityUsage="VirtualBook"
    AliasName="INSERT_DATE"/>
  <ViewAttribute
    Name="IsoLog"
    PrecisionRule="true"
    EntityAttrName="IsoLog"
    EntityUsage="VirtualBook"
    AliasName="ISO_LOG"/>
  <ViewAttribute
    Name="Labcol"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="Labcol"
    EntityUsage="VirtualBook"
    AliasName="LABCOL"/>
  <ViewAttribute
    Name="Manufacturer"
    PrecisionRule="true"
    EntityAttrName="Manufacturer"
    EntityUsage="VirtualBook"
    AliasName="MANUFACTURER"/>
  <ViewAttribute
    Name="ModifiedDate"
    IsUpdateable="false"
    PrecisionRule="true"
    EntityAttrName="ModifiedDate"
    EntityUsage="VirtualBook"
    AliasName="MODIFIED_DATE"/>
  <ViewAttribute
    Name="NbibNo"
    PrecisionRule="true"
    EntityAttrName="NbibNo"
    EntityUsage="VirtualBook"
    AliasName="NBIB_NO"/>
  <ViewAttribute
    Name="OrigTitle"
    PrecisionRule="true"
    EntityAttrName="OrigTitle"
    EntityUsage="VirtualBook"
    AliasName="ORIG_TITLE"/>
  <ViewAttribute
    Name="PhysicalDesc"
    PrecisionRule="true"
    EntityAttrName="PhysicalDesc"
    EntityUsage="VirtualBook"
    AliasName="PHYSICAL_DESC"/>
  <ViewAttribute
    Name="PubDate"
    PrecisionRule="true"
    EntityAttrName="PubDate"
    EntityUsage="VirtualBook"
    AliasName="PUB_DATE"/>
  <ViewAttribute
    Name="ReadingOrder"
    PrecisionRule="true"
    EntityAttrName="ReadingOrder"
    EntityUsage="VirtualBook"
    AliasName="READING_ORDER"/>
  <ViewAttribute
    Name="Reference"
    PrecisionRule="true"
    EntityAttrName="Reference"
    EntityUsage="VirtualBook"
    AliasName="REFERENCE"/>
  <ViewAttribute
    Name="RepAuthor"
    PrecisionRule="true"
    EntityAttrName="RepAuthor"
    EntityUsage="VirtualBook"
    AliasName="REP_AUTHOR"/>
  <ViewAttribute
    Name="Title"
    PrecisionRule="true"
    EntityAttrName="Title"
    EntityUsage="VirtualBook"
    AliasName="TITLE"/>
  <ViewAttribute
    Name="TitlePrintable"
    PrecisionRule="true"
    EntityAttrName="TitlePrintable"
    EntityUsage="VirtualBook"
    AliasName="TITLE_PRINTABLE"/>
  <ViewAttribute
    Name="UniformTitle"
    PrecisionRule="true"
    EntityAttrName="UniformTitle"
    EntityUsage="VirtualBook"
    AliasName="UNIFORM_TITLE"/>
  <ViewAttribute
    Name="UniformTitlePrintable"
    PrecisionRule="true"
    EntityAttrName="UniformTitlePrintable"
    EntityUsage="VirtualBook"
    AliasName="UNIFORM_TITLE_PRINTABLE"/>
  <ViewAttribute
    Name="UserName"
    PrecisionRule="true"
    EntityAttrName="UserName"
    EntityUsage="VirtualBook"
    AliasName="USER_NAME"/>
  <ViewAttribute
    Name="VolumeCount"
    PrecisionRule="true"
    EntityAttrName="VolumeCount"
    EntityUsage="VirtualBook"
    AliasName="VOLUME_COUNT"/>
  <ViewAttribute
    Name="ArtId1"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="ArtId"
    EntityUsage="PhysicalBook"
    AliasName="ART_ID1"/>
  <ViewAttribute
    Name="Barcode"
    PrecisionRule="true"
    EntityAttrName="Barcode"
    EntityUsage="PhysicalBook"
    AliasName="BARCODE"/>
  <ViewAttribute
    Name="BarcodeChangeDate"
    PrecisionRule="true"
    EntityAttrName="BarcodeChangeDate"
    EntityUsage="PhysicalBook"
    AliasName="BARCODE_CHANGE_DATE"/>
  <ViewAttribute
    Name="BarcodeChangeUser"
    PrecisionRule="true"
    EntityAttrName="BarcodeChangeUser"
    EntityUsage="PhysicalBook"
    AliasName="BARCODE_CHANGE_USER"/>
  <ViewAttribute
    Name="Description"
    PrecisionRule="true"
    EntityAttrName="Description"
    EntityUsage="PhysicalBook"
    AliasName="DESCRIPTION"/>
  <ViewAttribute
    Name="DurationUnit"
    PrecisionRule="true"
    EntityAttrName="DurationUnit"
    EntityUsage="PhysicalBook"
    AliasName="DURATION_UNIT"/>
  <ViewAttribute
    Name="ExistenceStatus"
    PrecisionRule="true"
    EntityAttrName="ExistenceStatus"
    EntityUsage="PhysicalBook"
    AliasName="EXISTENCE_STATUS"/>
  <ViewAttribute
    Name="Hold"
    PrecisionRule="true"
    EntityAttrName="Hold"
    EntityUsage="PhysicalBook"
    AliasName="HOLD"/>
  <ViewAttribute
    Name="InsertDate1"
    PrecisionRule="true"
    EntityAttrName="InsertDate"
    EntityUsage="PhysicalBook"
    AliasName="INSERT_DATE1"/>
  <ViewAttribute
    Name="Labcol1"
    IsUnique="true"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="Labcol"
    EntityUsage="PhysicalBook"
    AliasName="LABCOL1"/>
  <ViewAttribute
    Name="LoanDuration"
    PrecisionRule="true"
    EntityAttrName="LoanDuration"
    EntityUsage="PhysicalBook"
    AliasName="LOAN_DURATION"/>
  <ViewAttribute
    Name="LoanStatus"
    PrecisionRule="true"
    EntityAttrName="LoanStatus"
    EntityUsage="PhysicalBook"
    AliasName="LOAN_STATUS"/>
  <ViewAttribute
    Name="PartNo"
    PrecisionRule="true"
    EntityAttrName="PartNo"
    EntityUsage="PhysicalBook"
    AliasName="PART_NO"/>
  <ViewAttribute
    Name="Place"
    PrecisionRule="true"
    EntityAttrName="Place"
    EntityUsage="PhysicalBook"
    AliasName="PLACE"/>
  <ViewAttribute
    Name="PubDate1"
    PrecisionRule="true"
    EntityAttrName="PubDate"
    EntityUsage="PhysicalBook"
    AliasName="PUB_DATE1"/>
  <ViewAttribute
    Name="RegId"
    IsUnique="true"
    PrecisionRule="true"
    EntityAttrName="RegId"
    EntityUsage="PhysicalBook"
    AliasName="REG_ID"/>
  <ViewAttribute
    Name="ReplicateNo"
    PrecisionRule="true"
    EntityAttrName="ReplicateNo"
    EntityUsage="PhysicalBook"
    AliasName="REPLICATE_NO"/>
  <ViewAttribute
    Name="SafetyStatus"
    PrecisionRule="true"
    EntityAttrName="SafetyStatus"
    EntityUsage="PhysicalBook"
    AliasName="SAFETY_STATUS"/>
  <ViewAttribute
    Name="StatusChangeDate"
    PrecisionRule="true"
    EntityAttrName="StatusChangeDate"
    EntityUsage="PhysicalBook"
    AliasName="STATUS_CHANGE_DATE"/>
  <ViewAttribute
    Name="StatusChangeUser"
    PrecisionRule="true"
    EntityAttrName="StatusChangeUser"
    EntityUsage="PhysicalBook"
    AliasName="STATUS_CHANGE_USER"/>
  <ViewAttribute
    Name="UserName1"
    PrecisionRule="true"
    EntityAttrName="UserName"
    EntityUsage="PhysicalBook"
    AliasName="USER_NAME1"/>
  <ViewAttribute
    Name="VbookArtId"
    PrecisionRule="true"
    EntityAttrName="VbookArtId"
    EntityUsage="PhysicalBook"
    AliasName="VBOOK_ART_ID"/>
  <ViewAttribute
    Name="VolNo"
    PrecisionRule="true"
    EntityAttrName="VolNo"
    EntityUsage="PhysicalBook"
    AliasName="VOL_NO"/>
  <ViewAttribute
    Name="Provider"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="300"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="PROVIDER"
    Expression="PROVIDER"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="300"/>
    </DesignTime>
  </ViewAttribute>
  <ViewCriteria
    Name="PhbookVbookVOCriteria"
    ViewObjectName="org.parsisys.tehranuniversity.library.model.vo.PhbookVbookVO"
    Conjunction="AND">
    <ViewCriteriaRow
      Name="vcrow64"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="Edition"
        ViewAttribute="Edition"
        Operator="STARTSWITH"
        Conjunction="AND"
        Value=":edition"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="OrigTitle"
        ViewAttribute="OrigTitle"
        Operator="STARTSWITH"
        Conjunction="AND"
        Value=":origTitle"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="Title"
        ViewAttribute="Title"
        Operator="STARTSWITH"
        Conjunction="AND"
        Value=":title"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="Barcode"
        ViewAttribute="Barcode"
        Operator="STARTSWITH"
        Conjunction="AND"
        Value=":barcode"
        UpperColumns="1"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="VolNo"
        ViewAttribute="VolNo"
        Operator="STARTSWITH"
        Conjunction="AND"
        Value=":volNo"
        IsBindVarValue="true"
        Required="Optional"/>
    </ViewCriteriaRow>
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
  </ViewCriteria>
  <ViewCriteria
    Name="search_barcode_regIdVC"
    ViewObjectName="org.parsisys.tehranuniversity.library.model.vo.PhbookVbookVO"
    Conjunction="AND">
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
    <ViewCriteriaRow
      Name="vcrow44"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="Barcode"
        ViewAttribute="Barcode"
        Operator="STARTSWITH"
        Conjunction="AND"
        Value=":barcodeParam"
        IsBindVarValue="true"
        Required="Optional"/>
      <ViewCriteriaItem
        Name="RegId"
        ViewAttribute="RegId"
        Operator="STARTSWITH"
        Conjunction="AND"
        Value=":regId"
        IsBindVarValue="true"
        Required="Optional"/>
    </ViewCriteriaRow>
  </ViewCriteria>
  <ViewCriteria
    Name="labcolVC"
    ViewObjectName="org.parsisys.tehranuniversity.library.model.vo.PhbookVbookVO"
    Conjunction="AND">
    <Properties>
      <CustomProperties>
        <Property
          Name="displayOperators"
          Value="InAdvancedMode"/>
        <Property
          Name="autoExecute"
          Value="false"/>
        <Property
          Name="allowConjunctionOverride"
          Value="true"/>
        <Property
          Name="showInList"
          Value="true"/>
        <Property
          Name="mode"
          Value="Basic"/>
      </CustomProperties>
    </Properties>
    <ViewCriteriaRow
      Name="vcrow66"
      UpperColumns="1">
      <ViewCriteriaItem
        Name="Labcol"
        ViewAttribute="Labcol"
        Operator="="
        Conjunction="AND"
        Value=":labcolParam"
        IsBindVarValue="true"
        Required="Optional"/>
    </ViewCriteriaRow>
  </ViewCriteria>
  <AttrArray Name="KeyAttributes">
    <Item Value="ArtId"/>
    <Item Value="Labcol"/>
  </AttrArray>
  <ViewLinkAccessor
    Name="BookLoanHistoryVo"
    ViewLink="org.parsisys.tehranuniversity.library.model.vo.VL.PhbookVbookBookLoanHistory"
    Type="oracle.jbo.RowIterator"
    IsUpdateable="false"/>
</ViewObject>
